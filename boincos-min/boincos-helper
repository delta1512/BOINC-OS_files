#!/bin/bash

# BOINCOS init and control script.
# Controls the python curses interface and provides interactive accessibility to typical OS functionality
# Authors:
#   - Delta

bash exit 0 # Make $? equal to 0 so that the while loop will be entered

while [ $? != 0 ]; do
        python /opt/helper/boincos-helper.py
        case $? in
          1   )   exec boinctui;;
          2   )   exec sudo systemctl restart boinc;;
          3   )   exec htop;;
          4   )   exec bmon;;
          5   )   sudo netctl disable eth && echo -e "$(grep -v Interface /etc/netctl/examples/ethernet-dhcp)\nInterface=$(ls -w 1 /sys/class/net | head -n 1)" > /etc/netctl/eth && sudo netctl enable eth && sudo netctl start eth;;
          6   )   exec sudo wifi-menu;;
        esac
done

# Case 5 is a one-liner for taking the netctl ethernet example config and
# appending the current ethernet interface to it. Netctl is stopped, renabled
# and restarted throughout the process.
